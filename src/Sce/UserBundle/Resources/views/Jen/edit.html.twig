{% extends 'base.html.twig' %}
{% form_theme edit_form "UserBundle:Form:fields_mission.html.twig" %}

{% block stylesheets %}
	<link href="{{ asset('assets/plugins/select2/select2.css') }}" rel="stylesheet">
	
	<link href="{{ asset('assets/public/formWizard/css/wizardphases.css') }}" rel="stylesheet">
	<link href="{{ asset('assets/public/formWizard/css/wizardmissions.css') }}" rel="stylesheet">
{% endblock %}

{% block aside %}
    <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
        <!-- search form -->
        <form action="#" method="get" class="sidebar-form">
            <div class="input-group">
                <input type="text" name="q" class="form-control" placeholder="Search...">
                    <span class="input-group-btn">
                    <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                    </button>
                    </span>
            </div>
        </form>
        <!-- /.search form -->
        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu">
        <li class="header">MAIN NAVIGATION</li>
        <li class="active treeview">
            <a href="#">
            <i class="fa fa-dashboard"></i> <span>JEN</span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
            </a>
            <ul class="treeview-menu">
            <li>
                <a href="{{ path('jen_new') }}"><i class="fa fa-circle-o"></i> Nouveau Jen</a>
            </li>
            <li class="active">
                <a href="{{ path('jen_index') }}"><i class="fa fa-circle-o"></i> Liste Jen</a>
            </li>
            </ul>
        </li>

        <li class="treeview">
            <a href="#">
            <i class="fa fa-pie-chart"></i> <span>Discipline</span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
            </a>
            <ul class="treeview-menu">
            <li>
                <a href="{{ path('discipline_new') }}"><i class="fa fa-circle-o"></i> Ajouter un discipline</a>
            </li>
            <li>
                <a href="{{ path('discipline_index') }}"><i class="fa fa-circle-o"></i> Liste des disciplines</a>
            </li>
            </ul>
        </li>

        <li class="treeview">
            <a href="#">
            <i class="fa fa-users"></i> <span>Communauté</span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
            </a>
            <ul class="treeview-menu">
            <li>
                <a href="{{ path('communaute_new') }}"><i class="fa fa-circle-o"></i> Ajouter un communauté</a>
            </li>
            <li class="active">
                <a href="{{ path('communaute_index') }}"><i class="fa fa-circle-o"></i> Liste des communautés</a>
            </li>
            </ul>
        </li>

        <li class="treeview">
            <a href="#">
            <i class="fa fa-money"></i> <span>Carte JEN</span>
            <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
            </span>
            </a>
            <ul class="treeview-menu">
            <li>
                <a href="{{ path('cartejen_new') }}"><i class="fa fa-circle-o"></i> Ajouter un carte JEN</a>
            </li>
            <li class="active">
                <a href="{{ path('cartejen_index') }}"><i class="fa fa-circle-o"></i> Liste des cartes Jen</a>
            </li>
            </ul>
        </li>


        </ul>
    </section>
    <!-- /.sidebar -->
    </aside>
{% endblock %}

{% block body %}
	<div class="box box-primary box-solid">
		<div class="box-header with-border">
			<h3 class="box-title">{{form_label (edit_form.createurs)}}</h3>

			<div class="box-tools pull-right">
			<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
			</div>
			<!-- /.box-tools -->
		</div>
		<!-- /.box-header -->
		<div class="box-body">
			{{ form_widget(edit_form.createurs, { 'attr': {'class': "form-control js-example-placeholder-multiple", 'placeholder':  "createurs" } }) }}
			{{ form_errors(edit_form.createurs) }}
		</div>
		<!-- /.box-body -->
	</div>

	<div class="box box-primary">
		<div class="box-header with-border">
			<h3 class="box-title">Création d'un jeu épistémique numerique</h3>
		</div>
		<!-- /.box-header -->
		<div class="box-body">
			<div class="wizard">
				<div class="wizard-inner">
					<div class="connecting-line"></div>
					<ul class="nav nav-tabs" role="tablist">
						<li role="presentation" class="active" id="0">
							<a href="#step0" data-toggle="tab" aria-controls="step0" role="tab" title="Phase 0">
								<span id="span_step_0" class="round-tab">
									<i class="glyphicon glyphicon-folder-open"></i>
								</span>
							</a>
						</li>
						<li role="presentation" class="disabled" id="1">
							<a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Phase 1">
								<span id="span_step_1" class="round-tab">
									<i class="glyphicon glyphicon-pencil"></i>
								</span>
							</a>
						</li>
						<li role="presentation" class="disabled" id="2">
							<a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Phase 2">
								<span id="span_step_2" class="round-tab">
									<i class="fa fa-fw fa-chain"></i>
								</span>
							</a>
						</li>
						<li role="presentation" class="disabled" id="3">
							<a href="#step3" data-toggle="tab" aria-controls="step3" role=" tab" title="Phase 3">
								<span id="span_step_3" class="round-tab">
									<i class="fa fa-fw fa-th-list"></i>
								</span>
							</a>
						</li>
						<li role="presentation" class="disabled" id="4">
							<a href="#step4" data-toggle="tab" aria-controls="step4" role="tab" title="Phase 4">
								<span id="span_step_4" class="round-tab">
									<i class="fa fa-fw fa-hourglass-half"></i>
								</span>
							</a>
						</li>
						<li role="presentation" class="disabled" id="5">
							<a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Complete">
								<span id="span_step_5" class="round-tab">
									<i class="glyphicon glyphicon-ok"></i>
								</span>
							</a>
						</li>
					</ul>
				</div>
				{{ form_start(edit_form) }}
					<div class="tab-content">
						<div class="tab-pane active" role="tabpanel" id="step0">
							<div class="col-xs-12">
								<div class="col-md-12">
									<h3>Phase 0</h3>
										<p>
											Objectif du guide :
											Permettre aux co-concepteurs d’établir rapidement un cahier des charges suffisamment détaillé pour les développeurs et prenant en compte les contraintes des JENP afin d’assurer les apports pédagogiques.
											Ce guide pourrait être s’entrecroiser des guides de serious game. Ainsi il ne propose pas de d’étapes et de méthodes pour établir le style graphique du jeu.
										</p>
									<ul class="list-inline pull-right">
										<li><button type="button" class="btn btn-primary next-step">Suivant</button></li>
									</ul>
								</div>
							</div>
						</div>
						<div class="tab-pane" role="tabpanel" id="step1">
							<div class="col-xs-12">
								<div class="col-md-12">
									<h3>Phase 1</h3>
									<div id="message_step_1" class="box box-warning box-solid hide">
										<div class="box-header with-border">
											<h3 class="box-title">Attension</h3>
											<div class="box-tools pull-right">
												<button type="button" class="btn btn-box-tool" data-widget="collapse">
													<i class="fa fa-minus"></i>
												</button>
											</div>
										</div>
										<!-- /.box-header -->
										<div id="erreurs_step_1" class="box-body">

										</div>
										<!-- /.box-body -->
									</div>
									<div class="form-group">
										{{form_label (edit_form.intitule)}}
										{{ form_widget(edit_form.intitule, { 'attr': {'placeholder': 'intitule' } }) }}
										{{ form_errors(edit_form.intitule) }}
									</div>
									<div class="form-group">
										{{form_label (edit_form.nbEnseignants)}}
										{{ form_widget(edit_form.nbEnseignants, { 'attr': {'placeholder': "Nombre d'enseignants" } }) }}
										{{ form_errors(edit_form.nbEnseignants) }}
									</div>
									<div class="form-group">
										{{form_label (edit_form.nbEtudiants)}}
										{{ form_widget(edit_form.nbEtudiants, { 'attr': {'placeholder':  "Nombre d'etudiants" } }) }}
										{{ form_errors(edit_form.nbEtudiants) }}
									</div>
									<div class="form-group">
										{{form_label (edit_form.nbActeurs)}}
										{{ form_widget(edit_form.nbActeurs, { 'attr': {'placeholder':  "Nombre d'acteurs" } }) }}
										{{ form_errors(edit_form.nbActeurs) }}
									</div>
									<div class="form-group">
										{{form_label (edit_form.outils)}}
										{{ form_widget(edit_form.outils, { 'attr': {'placeholder':  "Outils" } }) }}
										{{ form_errors(edit_form.outils) }}
									</div>
									<div class="form-group">
										{{form_label (edit_form.dispositifs)}}
										{{ form_widget(edit_form.dispositifs, { 'attr': {'placeholder':  "dispositifs" } }) }}
										{{ form_errors(edit_form.dispositifs) }}
									</div>
									<ul class="list-inline pull-right">
										<li><button type="button" class="btn btn-default prev-step">Précédent</button></li>
										<li><button type="button" class="btn btn-default next-step">Ignorer</button></li>
										<li><button type="button" class="btn btn-primary next-step">Suivant</button></li>
									</ul>
								</div>
							</div>
						</div>
						<div class="tab-pane" role="tabpanel" id="step2">
							<div class="col-xs-12">
								<div class="col-md-12">
									<h3>Phase 2</h3>
									<div id="message_step_2" class="box box-warning box-solid hide">
										<div class="box-header with-border">
											<h3 class="box-title">Attension</h3>
											<div class="box-tools pull-right">
												<button type="button" class="btn btn-box-tool" data-widget="collapse">
													<i class="fa fa-minus"></i>
												</button>
											</div>
										</div>
										<!-- /.box-header -->
										<div id="erreurs_step_2" class="box-body">

										</div>
										<!-- /.box-body -->
									</div>
									<div class="form-group">
										{{form_label (edit_form.disciplines)}}
										{{ form_widget(edit_form.disciplines, { 'attr': {'class': "form-control js-example-placeholder-multiple",'placeholder':  "disciplines" } }) }}
										{{ form_errors(edit_form.disciplines) }}
									</div>
									<div class="form-group">
										{{form_label (edit_form.communautes)}}
										{{ form_widget(edit_form.communautes, { 'attr': {'class': "form-control js-example-placeholder-multiple",'placeholder':  "communautes" } }) }}
										{{ form_errors(edit_form.communautes) }}
									</div>
									<div class="form-group">
										{{form_label (edit_form.synopsys)}}
										{{ form_widget(edit_form.synopsys, { 'attr': {'placeholder':  "synopsys" } }) }}
										{{ form_errors(edit_form.synopsys) }}
									</div>
									<div class="form-group">
										<button id="carte_numerique" class="btn btn-primary" type="button" >Utiliser les cartes JEN numérique</button>
										<button id="carte_tangible" class="btn btn-primary" type="button" >Imprimer les cartes JEN</button>
									</div>
									<div id="container_cartesjen" class="box box-primary hidden">
										<div class="box-header with-border">
											<h3 class="box-title">Carte JEN numérique</h3>
										</div>
										{{ form_widget(edit_form.cartesJen) }}
										{{ form_errors(edit_form.cartesJen) }}
									</div>
								</div>
							</div>
							<ul class="list-inline pull-right">
								<li><button type="button" class="btn btn-default prev-step">Précédent</button></li>
								<li><button type="button" class="btn btn-default next-step">Ignorer</button></li>
								<li><button type="button" class="btn btn-primary btn-info-full next-step">Suivant</button></li>
							</ul>
						</div>
						<div class="tab-pane" role="tabpanel" id="step3">
							<div class="col-md-12">
								<h3>Phase 3</h3>
								<div id="message_step_3" class="box box-warning box-solid hide">
									<div class="box-header with-border">
										<h3 class="box-title">Attension</h3>
										<div class="box-tools pull-right">
											<button type="button" class="btn btn-box-tool" data-widget="collapse">
												<i class="fa fa-minus"></i>
											</button>
										</div>
									</div>
									<!-- /.box-header -->
									<div id="erreurs_step_3" class="box-body">

									</div>
									<!-- /.box-body -->
								</div>
								<div id="add_missions">
									
								</div>
								<div id="liste_missions">
									
								</div>
								<div class="stepwizard">
									<div id ="stepwizard" class="stepwizard-row setup-panel">
										
									</div>
								</div>
								<div class="box box-primary">
									<div class="box-header with-border">
										<h3 class="box-title">Mission</h3>
									</div>
									{{ form_widget(edit_form.missions) }}
									{{ form_errors(edit_form.missions) }}
								</div>
							</div>
							<ul class="list-inline pull-right">
								<li><button type="button" class="btn btn-default prev-step">Précédent</button></li>
								<li><button type="button" class="btn btn-default next-step">Ignorer</button></li>
								<li><button type="button" class="btn btn-primary btn-info-full next-step">Suivant</button></li>
							</ul>
						</div>
						<div class="tab-pane" role="tabpanel" id="step4">
							<h3>Phase 4</h3>
							<div id="message_step_4" class="box box-warning box-solid hide">
								<div class="box-header with-border">
									<h3 class="box-title">Attention</h3>
									<div class="box-tools pull-right">
										<button type="button" class="btn btn-box-tool" data-widget="collapse">
											<i class="fa fa-minus"></i>
										</button>
									</div>
								</div>
								<!-- /.box-header -->
								<div id="erreurs_step_4" class="box-body">

								</div>
								<!-- /.box-body -->
							</div>
							{{ form_rest(edit_form) }}
							<ul class="list-inline pull-right">
								<li><button type="button" class="btn btn-default prev-step">Précédent</button></li>
								<li><button type="button" class="btn btn-default next-step">Ignorer</button></li>
								<li><button type="button" class="btn btn-primary btn-info-full next-step">Suivant</button></li>
							</ul>
						</div>
						<div class="tab-pane" role="tabpanel" id="complete">
							<h3>Complete</h3>
							<p>Vous avez bien compléter la conception de votre JEN</p>
							<ul class="list-inline pull-right">
								<li><button type="button" class="btn btn-default prev-step">Précédent</button></li>
								<li><button type="submit" class="btn btn-primary btn-info-full">Sauvegarder</button></li>
							</ul>
						</div>
						<div class="clearfix"></div>
					</div>
				{{ form_end(edit_form) }}
			</div>
		</div>
		<!-- /.box-body -->
	</div>
{% endblock %}

{% block javascript %}
	<script src="{{ asset('assets/public/formWizard/js/wizardphases.js') }}" type="text/javascript"></script>
	<script src="{{ asset('assets/public/editJen.js') }}" type="text/javascript"></script>
	<script src="{{ asset('assets/public/cartesjen.js') }}" type="text/javascript"></script>

	<script src="{{ asset('assets/plugins/select2/select2.js') }}"></script>
	<script type="text/javascript">
		$(".js-example-placeholder-multiple").select2({
			placeholder: "Select a state"
		});
	</script>
{% endblock %}